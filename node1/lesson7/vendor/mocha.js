(function(){function t(e){var n=t.resolve(e),r=t.modules[n];if(!r)throw new Error('failed to require "'+e+'"');if(!r.exports){r.exports={};r.call(r.exports,r,r.exports,t.relative(n))}return r.exports}t.modules={};t.resolve=function(e){var n=e,r=e+".js",i=e+"/index.js";return t.modules[r]&&r||t.modules[i]&&i||n};t.register=function(e,n){t.modules[e]=n};t.relative=function(e){return function(n){if("."!=n.charAt(0))return t(n);var r=e.split("/"),i=n.split("/");r.pop();for(var o=0;o<i.length;o++){var s="i[o];if(".."==s)r.pop();else" if("."!="s)r.push(s)}return" t(r.join("="" "))}};t.register("browser="" debug.js",function(t,e,n){t.exports="function(t){return" function(){}}});t.register("browser="" diff.js",function(t,e,n){var="" r="function(){function" t(t){return{newpos:t.newpos,components:t.components.slice(0)}}function="" e(t){var="" e="[];for(var" n="0;n<t.length;n++){if(t[n]){e.push(t[n])}}return" e}function="" n(t){var="">/g,"&gt;");e=e.replace(/"/g,"&quot;");return e}var r=function(t){this.ignoreWhitespace=t};r.prototype={diff:function(e,n){if(n===e){return[{value:n}]}if(!n){return[{value:e,removed:true}]}if(!e){return[{value:n,added:true}]}n=this.tokenize(n);e=this.tokenize(e);var r=n.length,i=e.length;var o=r+i;var s=[{newPos:-1,components:[]}];var a=this.extractCommon(s[0],n,e,0);if(s[0].newPos+1>=r&&a+1>=i){return s[0].components}for(var u=1;u<=o;u++){for(var f="-1*u;f<=u;f+=2){var" l;var="" c="s[f-1],p=s[f+1];a=(p?p.newPos:0)-f;if(c){s[f-1]=undefined}var" h="c&&c.newPos+1<r;var" d="p&&0<=a&&a<i;if(!h&&!d){s[f]=undefined;continue}if(!h||d&&c.newPos<p.newPos){l=t(p);this.pushComponent(l.components,e[a],undefined,true)}else{l=t(c);l.newPos++;this.pushComponent(l.components,n[l.newPos],true,undefined)}var" a="this.extractCommon(l,n,e,f);if(l.newPos+1">=r&&a+1>=i){return l.components}else{s[f]=l}}}},pushComponent:function(t,e,n,r){var i=t[t.length-1];if(i&&i.added===n&&i.removed===r){t[t.length-1]={value:this.join(i.value,e),added:n,removed:r}}else{t.push({value:e,added:n,removed:r})}},extractCommon:function(t,e,n,r){var i=e.length,o=n.length,s=t.newPos,a=s-r;while(s+1<i&&a+1<o&&this.equals(e[s+1],n[a+1])){s++;a++;this.pushcomponent(t.components,e[s],undefined,undefined)}t.newpos=s;return a},equals:function(t,e){var="" n="/\S/;if(this.ignoreWhitespace&&!n.test(t)&&!n.test(e)){return" true}else{return="" t="==e}},join:function(t,e){return" t+e},tokenize:function(t){return="" t}};var="" i="new" r;var="" o="new" r(true);var="" s="new" r;o.tokenize="s.tokenize=function(t){return" e(t.split(="" (\s+|\b)="" ))};var="" a="new" r(true);a.tokenize="function(t){return" ([{}:;,]|\s+)="" u="new" r;u.tokenize="function(t){var" e="[],n=t.split(/^/m);for(var" r="0;r<n.length;r++){var" if(i){e.push(i)}}return="" e};return{diff:r,diffchars:function(t,e){return="" i.diff(t,e)},diffwords:function(t,e){return="" o.diff(t,e)},diffwordswithspace:function(t,e){return="" s.diff(t,e)},difflines:function(t,e){return="" u.diff(t,e)},diffcss:function(t,e){return="" a.diff(t,e)},createpatch:function(t,e,n,r,i){var="" "+t);o.push("="==================================================================");o.push("---" "+t+(typeof="" "+r));o.push("+++="" "+i));var="" a(t){return="" t.map(function(t){return"="" "+t})}function="" f(t,e,n){var="" no="" newline="" at="" end="" of="" file")}}var="" l="0,c=0,p=[],h=1,d=1;for(var" g="0;g<s.length;g++){var" v="s[g],m=v.lines||v.value.replace(/\n$/,"").split("\n");v.lines=m;if(v.added||v.removed){if(!l){var" y="s[g-1];l=h;c=d;if(y){p=a(y.lines.slice(-4));l-=p.length;c-=p.length}}p.push.apply(p,m.map(function(t){return(v.added?"+":"-")+t}));f(p,g,v);if(v.added){d+=m.length}else{h+=m.length}}else{if(l){if(m.length<=8&&g<s.length-2){p.push.apply(p,a(m))}else{var" w="Math.min(m.length,4);o.push("@@" -"+l+","+(h-l+w)+"="" +"+c+","+(d-c+w)+"="" @@");o.push.apply(o,p);o.push.apply(o,a(m.slice(0,w)));if(m.length<="4){f(o,g,v)}l=0;c=0;p=[]}}h+=m.length;d+=m.length}}return" o.join("\n")+"\n"},applypatch:function(t,e){var="" -(\d+),(\d+)="" \+(\d+),(\d+)="" @@="" );r.unshift({start:a[3],oldlength:a[2],oldlines:[],newlength:a[4],newlines:[]})}else="" if(n[s][0]="=="+"){r[0].newlines.push(n[s].substr(1))}else" "){r[0].newlines.push(n[s].substr(1));r[0].oldlines.push(n[s].substr(1))}else="" if(n[s-1][0]="=="-"){o=true}}}var">=0;s--){var f=r[s];for(var l=0;l<f.oldlength;l++){if(u[f.start-1+l]!==f.oldlines[l]){return false}}array.prototype.splice.apply(u,[f.start-1,+f.oldlength].concat(f.newlines))}if(i){while(!u[u.length-1]){u.pop()}}else="" if(o){u.push("")}return="" u.join("\n")},convertchangestoxml:function(t){var="" e="[];for(var" r="0;r<t.length;r++){var" i="t[r];if(i.added){e.push("<ins">")}else if(i.removed){e.push("<del>")}e.push(n(i.value));if(i.added){e.push("")}else if(i.removed){e.push("</del>")}}return e.join("")},convertChangesToDMP:function(t){var e=[],n;for(var r=0;r<t.length;r++){n=t[r];e.push([n.added?1:n.removed?-1:0,n.value])}return e}}}();if(typeof="" t!="="undefined"){t.exports=r}});t.register("browser/escape-string-regexp.js",function(t,e,n){"use" strict";var="" r="/[|\\{}()[\]^$+*?.]/g;t.exports=function(t){if(typeof" new="" typeerror("expected="" a="" string")}return="" t.replace(r,"\\$&")}});t.register("browser="" events.js",function(t,e,n){e.eventemitter="i;function" r(t){return"[object="" array]"="={}.toString.call(t)}function" i(){}i.prototype.on="function(t,e){if(!this.$events){this.$events={}}if(!this.$events[t]){this.$events[t]=e}else" if(r(this.$events[t])){this.$events[t].push(e)}else{this.$events[t]="[this.$events[t],e]}return" this};i.prototype.addlistener="i.prototype.on;i.prototype.once=function(t,e){var" n="this;function" r(){n.removelistener(t,r);e.apply(this,arguments)}r.listener="e;this.on(t,r);return" this};i.prototype.removelistener="function(t,e){if(this.$events&&this.$events[t]){var" i="-1;for(var" o="0,s=n.length;o<s;o++){if(n[o]===e||n[o].listener&&n[o].listener===e){i=o;break}}if(i<0){return" this}n.splice(i,1);if(!n.length){delete="" this.$events[t]}}else="" if(n="==e||n.listener&&n.listener===e){delete" this.$events[t]}}return="" this};i.prototype.removealllisteners="function(t){if(t===undefined){this.$events={};return" this}if(this.$events&&this.$events[t]){this.$events[t]="null}return" this};i.prototype.listeners="function(t){if(!this.$events){this.$events={}}if(!this.$events[t]){this.$events[t]=[]}if(!r(this.$events[t])){this.$events[t]=[this.$events[t]]}return" this.$events[t]};i.prototype.emit="function(t){if(!this.$events){return" false}var="" e="this.$events[t];if(!e){return" e){e.apply(this,n)}else="" if(r(e)){var="" false}return="" true}});t.register("browser="" fs.js",function(t,e,n){});t.register("browser="" glob.js",function(t,e,n){});t.register("browser="" path.js",function(t,e,n){});t.register("browser="" progress.js",function(t,e,n){t.exports="r;function" r(){this.percent="0;this.size(0);this.fontSize(11);this.font("helvetica," arial,="" sans-serif")}r.prototype.size="function(t){this._size=t;return" this};r.prototype.text="function(t){this._text=t;return" this};r.prototype.fontsize="function(t){this._fontSize=t;return" this};r.prototype.font="function(t){this._font=t;return" this};r.prototype.update="function(t){this.percent=t;return" this};r.prototype.draw="function(t){try{var" "+this._font;var="" u="Math.PI*2*(e/100);t.clearRect(0,0,n,n);t.strokeStyle="#9f9f9f";t.beginPath();t.arc(i,o,s,0,u,false);t.stroke();t.strokeStyle="#eee";t.beginPath();t.arc(i,o,s-1,0,u,true);t.stroke();var" f="this._text||(e|0)+"%",l=t.measureText(f).width;t.fillText(f,i-l/2+1,o+a/2-1)}catch(c){}return" this}});t.register("browser="" tty.js",function(t,n,r){n.isatty="function(){return" true};n.getwindowsize="function(){if("innerHeight"in" e){return[e.innerheight,e.innerwidth]}else{return[640,480]}}});t.register("context.js",function(t,e,n){t.exports="r;function" r(){}r.prototype.runnable="function(t){if(0==arguments.length)return" this._runnable;this.test="this._runnable=t;return" this};r.prototype.timeout="function(t){if(arguments.length===0)return" this.runnable().timeout();this.runnable().timeout(t);return="" this};r.prototype.enabletimeouts="function(t){this.runnable().enableTimeouts(t);return" this};r.prototype.slow="function(t){this.runnable().slow(t);return" this};r.prototype.skip="function(){this.runnable().skip();return" this};r.prototype.inspect="function(){return" json.stringify(this,function(t,e){if("_runnable"="=t)return;if("test"==t)return;return" e},2)}});t.register("hook.js",function(t,e,n){var="" i(t,e){r.call(this,t,e);this.type="hook" }function="" o(){}o.prototype="r.prototype;i.prototype=new" o;i.prototype.constructor="i;i.prototype.error=function(t){if(0==arguments.length){var" t="this._error;this._error=null;return" t}this._error="t}});t.register("interfaces/bdd.js",function(t,e,n){var" i};o.xdescribe="o.xcontext=o.describe.skip=function(t,n){var" n};o.it="o.specify=function(t,n){var" i(t,n);o.file="a;r.addTest(o);return" o};o.it.only="function(t,e){var" +s(n.fulltitle())+"$";u.grep(new="" regexp(r));return="" n};o.xit="o.xspecify=o.it.skip=function(t){o.it(t)}})}});t.register("interfaces/common.js",function(t,e,n){"use" strict";t.exports="function(t,e){return{runWithSuite:function" n(t){return="" function="" e(){t.run()}},before:function(e,n){t[0].beforeall(e,n)},after:function(e,n){t[0].afterall(e,n)},beforeeach:function(e,n){t[0].beforeeach(e,n)},aftereach:function(e,n){t[0].aftereach(e,n)},test:{skip:function(t){e.test(t)}}}}});t.register("interfaces="" exports.js",function(t,e,n){var="" n(t,o){var="" s;for(var="" in="" t){if("function"="=typeof" t[a]){var="" i(a,u);f.file="o;e[0].addTest(f)}}else{s=r.create(e[0],a);e.unshift(s);n(t[a]);e.shift()}}}}});t.register("interfaces/index.js",function(t,e,n){e.bdd=n("./bdd");e.tdd=n("./tdd");e.qunit=n("./qunit");e.exports=n("./exports")});t.register("interfaces/qunit.js",function(t,e,n){var">1)e.shift();var n=r.create(e[0],t);n.file=a;e.unshift(n);return n};s.suite.only=function(t,e){var n=s.suite(t,e);u.grep(n.fullTitle())};s.test=function(t,n){var r=new i(t,n);r.file=a;e[0].addTest(r);return r};s.test.only=function(t,e){var n=s.test(t,e);var r="^"+o(n.fullTitle())+"$";u.grep(new RegExp(r))};s.test.skip=f.test.skip})}});t.register("interfaces/tdd.js",function(t,e,n){var r=n("../suite"),i=n("../test"),o=n("browser/escape-string-regexp"),s=n("../utils");t.exports=function(t){var e=[t];t.on("pre-require",function(s,a,u){var f=n("./common")(e,s);s.setup=f.beforeEach;s.teardown=f.afterEach;s.suiteSetup=f.before;s.suiteTeardown=f.after;s.run=u.options.delay&&f.runWithSuite(t);s.suite=function(t,n){var i=r.create(e[0],t);i.file=a;e.unshift(i);n.call(i);e.shift();return i};s.suite.skip=function(t,n){var i=r.create(e[0],t);i.pending=true;e.unshift(i);n.call(i);e.shift()};s.suite.only=function(t,e){var n=s.suite(t,e);u.grep(n.fullTitle())};s.test=function(t,n){var r=e[0];if(r.pending)n=null;var o=new i(t,n);o.file=a;r.addTest(o);return o};s.test.only=function(t,e){var n=s.test(t,e);var r="^"+o(n.fullTitle())+"$";u.grep(new RegExp(r))};s.test.skip=f.test.skip})}});t.register("mocha.js",function(t,n,r){var i=r("browser/path"),o=r("browser/escape-string-regexp"),s=r("./utils");n=t.exports=c;if(typeof a!=="undefined"&&typeof a.cwd==="function"){var u=i.join,f=a.cwd();t.paths.push(f,u(f,"node_modules"))}n.utils=s;n.interfaces=r("./interfaces");n.reporters=r("./reporters");n.Runnable=r("./runnable");n.Context=r("./context");n.Runner=r("./runner");n.Suite=r("./suite");n.Hook=r("./hook");n.Test=r("./test");function l(t){return __dirname+"/../images/"+t+".png"}function c(t){t=t||{};this.files=[];this.options=t;if(t.grep)this.grep(new RegExp(t.grep));if(t.fgrep)this.grep(t.fgrep);this.suite=new n.Suite("",new n.Context);this.ui(t.ui);this.bail(t.bail);this.reporter(t.reporter,t.reporterOptions);if(null!=t.timeout)this.timeout(t.timeout);this.useColors(t.useColors);if(t.enableTimeouts!==null)this.enableTimeouts(t.enableTimeouts);if(t.slow)this.slow(t.slow);this.suite.on("pre-require",function(t){n.afterEach=t.afterEach||t.teardown;n.after=t.after||t.suiteTeardown;n.beforeEach=t.beforeEach||t.setup;n.before=t.before||t.suiteSetup;n.describe=t.describe||t.suite;n.it=t.it||t.test;n.setup=t.setup||t.beforeEach;n.suiteSetup=t.suiteSetup||t.before;n.suiteTeardown=t.suiteTeardown||t.after;n.suite=t.suite||t.describe;n.teardown=t.teardown||t.afterEach;n.test=t.test||t.it;n.run=t.run})}c.prototype.bail=function(t){if(0==arguments.length)t=true;this.suite.bail(t);return this};c.prototype.addFile=function(t){this.files.push(t);return this};c.prototype.reporter=function(t,e){if("function"==typeof t){this._reporter=t}else{t=t||"spec";var n;try{n=r("./reporters/"+t)}catch(i){}if(!n)try{n=r(t)}catch(i){i.message.indexOf("Cannot find module")!==-1?console.warn('"'+t+'" reporter not found'):console.warn('"'+t+'" reporter blew up with error:\n'+i.stack)}if(!n&&t==="teamcity")console.warn("The Teamcity reporter was moved to a package named "+"mocha-teamcity-reporter "+"(https://npmjs.org/package/mocha-teamcity-reporter).");if(!n)throw new Error('invalid reporter "'+t+'"');this._reporter=n}this.options.reporterOptions=e;return this};c.prototype.ui=function(t){t=t||"bdd";this._ui=n.interfaces[t];if(!this._ui)try{this._ui=r(t)}catch(e){}if(!this._ui)throw new Error('invalid interface "'+t+'"');this._ui=this._ui(this.suite);return this};c.prototype.loadFiles=function(t){var n=this;var o=this.suite;var s=this.files.length;this.files.forEach(function(a){a=i.resolve(a);o.emit("pre-require",e,a,n);o.emit("require",r(a),a,n);o.emit("post-require",e,a,n);--s||t&&t()})};c.prototype._growl=function(t,e){var n=r("growl");t.on("end",function(){var r=e.stats;if(r.failures){var i=r.failures+" of "+t.total+" tests failed";n(i,{name:"mocha",title:"Failed",image:l("error")})}else{n(r.passes+" tests passed in "+r.duration+"ms",{name:"mocha",title:"Passed",image:l("ok")})}})};c.prototype.grep=function(t){this.options.grep="string"==typeof t?new RegExp(o(t)):t;return this};c.prototype.invert=function(){this.options.invert=true;return this};c.prototype.ignoreLeaks=function(t){this.options.ignoreLeaks=!!t;return this};c.prototype.checkLeaks=function(){this.options.ignoreLeaks=false;return this};c.prototype.fullTrace=function(){this.options.fullStackTrace=true;return this};c.prototype.growl=function(){this.options.growl=true;return this};c.prototype.globals=function(t){this.options.globals=(this.options.globals||[]).concat(t);return this};c.prototype.useColors=function(t){if(t!==undefined){this.options.useColors=t}return this};c.prototype.useInlineDiffs=function(t){this.options.useInlineDiffs=arguments.length&&t!=undefined?t:false;return this};c.prototype.timeout=function(t){this.suite.timeout(t);return this};c.prototype.slow=function(t){this.suite.slow(t);return this};c.prototype.enableTimeouts=function(t){this.suite.enableTimeouts(arguments.length&&t!==undefined?t:true);return this};c.prototype.asyncOnly=function(){this.options.asyncOnly=true;return this};c.prototype.noHighlighting=function(){this.options.noHighlighting=true;return this};c.prototype.delay=function p(){this.options.delay=true;return this};c.prototype.run=function(t){if(this.files.length)this.loadFiles();var e=this.suite;var r=this.options;r.files=this.files;var i=new n.Runner(e,r.delay);var o=new this._reporter(i,r);i.ignoreLeaks=false!==r.ignoreLeaks;i.fullStackTrace=r.fullStackTrace;i.asyncOnly=r.asyncOnly;if(r.grep)i.grep(r.grep,r.invert);if(r.globals)i.globals(r.globals);if(r.growl)this._growl(i,o);if(r.useColors!==undefined){n.reporters.Base.useColors=r.useColors}n.reporters.Base.inlineDiffs=r.useInlineDiffs;function s(e){if(o.done){o.done(e,t)}else t&&t(e)}return i.run(s)}});t.register("ms.js",function(t,e,n){var r=1e3;var i=r*60;var o=i*60;var s=o*24;var a=s*365.25;t.exports=function(t,e){e=e||{};if("string"==typeof t)return u(t);return e["long"]?l(t):f(t)};function u(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);var u=(e[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"y":return n*a;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"h":return n*o;case"minutes":case"minute":case"m":return n*i;case"seconds":case"second":case"s":return n*r;case"ms":return n}}function f(t){if(t>=s)return Math.round(t/s)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=i)return Math.round(t/i)+"m";if(t>=r)return Math.round(t/r)+"s";return t+"ms"}function l(t){return c(t,s,"day")||c(t,o,"hour")||c(t,i,"minute")||c(t,r,"second")||t+" ms"}function c(t,e,n){if(t<e)return;if(t<e*1.5)return math.floor(t="" e)+"="" "+n;return="" math.ceil(t="" "+n+"s"}});t.register("pending.js",function(t,e,n){t.exports="r;function" r(t){this.message="t}});t.register("reporters/base.js",function(t,n,r){var" i="r("browser/tty"),o=r("browser/diff"),s=r("../ms"),u=r("../utils"),f=a.env?r("supports-color"):null;var" l="e.Date,c=e.setTimeout,p=e.setInterval,h=e.clearTimeout,d=e.clearInterval;var" g="i.isatty(1)&&i.isatty(2);n=t.exports=m;n.useColors=a.env?f||a.env.MOCHA_COLORS!==undefined:false;n.inlineDiffs=false;n.colors={pass:90,fail:31,"bright" pass":92,"bright="" fail":91,"bright="" yellow":93,pending:36,suite:0,"error="" title":0,"error="" message":31,"error="" stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff="" gutter":90,"diff="" added":42,"diff="" removed":41};n.symbols="{ok:"âœ“",err:"âœ–",dot:"â€¤"};if("win32"==a.platform){n.symbols.ok="âˆš";n.symbols.err="Ã—";n.symbols.dot="."}var" v="n.color=function(t,e){if(!n.useColors)return" string(e);return"["+n.colors[t]+"m"+e+"[0m"};n.window="{width:g?a.stdout.getWindowSize?a.stdout.getWindowSize(1)[0]:i.getWindowSize()[1]:75};n.cursor={hide:function(){g&&a.stdout.write("[?25l")},show:function(){g&&a.stdout.write("[?25h")},deleteLine:function(){g&&a.stdout.write("[2K")},beginningOfLine:function(){g&&a.stdout.write("[0G")},CR:function(){if(g){n.cursor.deleteLine();n.cursor.beginningOfLine()}else{a.stdout.write("\r")}}};n.list=function(t){console.log();t.forEach(function(t,e){var" r="v("error" title","="" %s)="" %s:\n")+v("error="" message","="" %s")+v("error="" stack","\n%s\n");var="" "+msg}if(i.showdiff!="=false&&E(f,l)&&l!==undefined){if("string"!==typeof" f){c="false;i.actual=f=u.stringify(f);i.expected=l=u.stringify(l)}r=v("error" %s:\n%s")+v("error="" p="o.match(/^([^:]+):" expected="" );msg="\n      " +v("error="" message",p?p[1]:msg);if(n.inlinediffs){msg+="w(i,c)}else{msg+=b(i,c)}}s=s.replace(/^/gm,"" ");console.log(r,e+1,t.fulltitle(),msg,s)})};function="" m(t){var="" e="this,n=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},r=this.failures=[];if(!t)return;this.runner=t;t.stats=n;t.on("start",function(){n.start=new" l});t.on("suite",function(t){n.suites="n.suites||0;t.root||n.suites++});t.on("test" end",function(t){n.tests="n.tests||0;n.tests++});t.on("pass",function(t){n.passes=n.passes||0;var">t.slow()?"slow":t.duration>e?"medium":"fast";n.passes++});t.on("fail",function(t,e){n.failures=n.failures||0;n.failures++;t.err=e;r.push(t)});t.on("end",function(){n.end=new l;n.duration=new l-n.start});t.on("pending",function(){n.pending++})}m.prototype.epilogue=function(){var t=this.stats;var e;var n;console.log();n=v("bright pass"," ")+v("green"," %d passing")+v("light"," (%s)");console.log(n,t.passes||0,s(t.duration));if(t.pending){n=v("pending"," ")+v("pending"," %d pending");console.log(n,t.pending)}if(t.failures){n=v("fail","  %d failing");console.log(n,t.failures);m.list(this.failures);console.log()}console.log()};function y(t,e){t=String(t);return Array(e-t.length+1).join(" ")+t}function w(t,e){var n=x(t,"WordsWithSpace",e);var r=n.split("\n");if(r.length>4){var i=String(r.length).length;n=r.map(function(t,e){return y(++e,i)+" |"+" "+t}).join("\n")}n="\n"+v("diff removed","actual")+" "+v("diff added","expected")+"\n\n"+n+"\n";n=n.replace(/^/gm,"      ");return n}function b(t,e){var n="      ";function r(t){if(e){t=k(t)}if(t[0]==="+")return n+T("diff added",t);if(t[0]==="-")return n+T("diff removed",t);if(t.match(/\@\@/))return null;if(t.match(/\\ No newline/))return null;else return n+t}function i(t){return t!=null}var s=o.createPatch("string",t.actual,t.expected);var a=s.split("\n").splice(4);return"\n      "+T("diff added","+ expected")+" "+T("diff removed","- actual")+"\n\n"+a.map(r).filter(i).join("\n")}function x(t,e,n){var r=n?k(t.actual):t.actual;var i=n?k(t.expected):t.expected;return o["diff"+e](r,i).map(function(t){if(t.added)return T("diff added",t.value);if(t.removed)return T("diff removed",t.value);return t.value}).join("")}function k(t){return t.replace(/\t/g,"<tab>").replace(/\r/g,"<cr>").replace(/\n/g,"<lf>\n")}function T(t,e){return e.split("\n").map(function(e){return v(t,e)}).join("\n")}function E(t,e){t=Object.prototype.toString.call(t);e=Object.prototype.toString.call(e);return t==e}});t.register("reporters/doc.js",function(t,e,n){var r=n("./base"),i=n("../utils");e=t.exports=o;function o(t){r.call(this,t);var e=this,n=this.stats,o=t.total,s=2;function a(){return Array(s).join("  ")}t.on("suite",function(t){if(t.root)return;++s;console.log('%s<section class="suite">',a());++s;console.log("%s<h1>%s</h1>",a(),i.escape(t.title));console.log("%s<dl>",a())});t.on("suite end",function(t){if(t.root)return;console.log("%s</dl>",a());--s;console.log("%s</section>",a());--s});t.on("pass",function(t){console.log("%s  <dt>%s</dt>",a(),i.escape(t.title));var e=i.escape(i.clean(t.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",a(),e)});t.on("fail",function(t,e){console.log('%s  <dt class="error">%s</dt>',a(),i.escape(t.title));var n=i.escape(i.clean(t.fn.toString()));console.log('%s  <dd class="error"><pre><code>%s</code></pre></dd>',a(),n);console.log('%s  <dd class="error">%s</dd>',a(),i.escape(e))})}});t.register("reporters/dot.js",function(t,e,n){var r=n("./base"),i=r.color;e=t.exports=o;function o(t){r.call(this,t);var e=this,n=this.stats,o=r.window.width*.75|0,s=-1;t.on("start",function(){a.stdout.write("\n")});t.on("pending",function(t){if(++s%o==0)a.stdout.write("\n  ");a.stdout.write(i("pending",r.symbols.dot))});t.on("pass",function(t){if(++s%o==0)a.stdout.write("\n  ");if("slow"==t.speed){a.stdout.write(i("bright yellow",r.symbols.dot))}else{a.stdout.write(i(t.speed,r.symbols.dot))}});t.on("fail",function(t,e){if(++s%o==0)a.stdout.write("\n  ");a.stdout.write(i("fail",r.symbols.dot))});t.on("end",function(){console.log();e.epilogue()})}function s(){}s.prototype=r.prototype;o.prototype=new s;o.prototype.constructor=o});t.register("reporters/html-cov.js",function(t,e,n){var r=n("./json-cov"),i=n("browser/fs");e=t.exports=o;function o(t){var e=n("jade"),o=__dirname+"/templates/coverage.jade",u=i.readFileSync(o,"utf8"),f=e.compile(u,{filename:o}),l=this;r.call(this,t,false);t.on("end",function(){a.stdout.write(f({cov:l.cov,coverageClass:s}))})}function s(t){if(t>=75)return"high";if(t>=50)return"medium";if(t>=25)return"low";return"terrible"}});t.register("reporters/html.js",function(t,n,r){var i=r("./base"),o=r("../utils"),s=r("../browser/progress"),a=o.escape;var u=e.Date,f=e.setTimeout,l=e.setInterval,c=e.clearTimeout,p=e.clearInterval;n=t.exports=d;var h='<ul id="mocha-stats">'+'<li class="progress"><canvas width="40" height="40"></canvas></li>'+'<li class="passes"><a href="#">passes:</a> <em>0</em></li>'+'<li class="failures"><a href="#">failures:</a> <em>0</em></li>'+'<li class="duration">duration: <em>0</em>s</li>'+"</ul>";function d(t){i.call(this,t);var e=this,n=this.stats,r=t.total,f=m(h),l=f.getElementsByTagName("li"),c=l[1].getElementsByTagName("em")[0],p=l[1].getElementsByTagName("a")[0],d=l[2].getElementsByTagName("em")[0],g=l[2].getElementsByTagName("a")[0],k=l[3].getElementsByTagName("em")[0],T=f.getElementsByTagName("canvas")[0],E=m('<ul id="mocha-report"></ul>'),j=[E],_,S,O=document.getElementById("mocha");if(T.getContext){var C=window.devicePixelRatio||1;T.style.width=T.width;T.style.height=T.height;T.width*=C;T.height*=C;S=T.getContext("2d");S.scale(C,C);_=new s}if(!O)return v("#mocha div missing, add it to your document");x(p,"click",function(){w();var t=/pass/.test(E.className)?"":" pass";E.className=E.className.replace(/fail|pass/g,"")+t;if(E.className.trim())y("test pass")});x(g,"click",function(){w();var t=/fail/.test(E.className)?"":" fail";E.className=E.className.replace(/fail|pass/g,"")+t;if(E.className.trim())y("test fail")});O.appendChild(f);O.appendChild(E);if(_)_.size(40);t.on("suite",function(t){if(t.root)return;var n=e.suiteURL(t);var r=m('<li class="suite"><h1><a href="%s">%s</a></h1></li>',n,a(t.title));j[0].appendChild(r);j.unshift(document.createElement("ul"));r.appendChild(j[0])});t.on("suite end",function(t){if(t.root)return;j.shift()});t.on("fail",function(e,n){if("hook"==e.type)t.emit("test end",e)});t.on("test end",function(t){var r=n.tests/this.total*100|0;if(_)_.update(r).draw(S);var i=new u-n.start;b(c,n.passes);b(d,n.failures);b(k,(i/1e3).toFixed(2));if("passed"==t.state){var s=e.testURL(t);var a=m('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="%s" class="replay">â€£</a></h2></li>',t.speed,t.title,t.duration,s)}else if(t.pending){var a=m('<li class="test pass pending"><h2>%e</h2></li>',t.title)}else{var a=m('<li class="test fail"><h2>%e <a href="%e" class="replay">â€£</a></h2></li>',t.title,e.testURL(t));var f=t.err.stack||t.err.toString();if(!~f.indexOf(t.err.message)){f=t.err.message+"\n"+f}if("[object Error]"==f)f=t.err.message;if(!t.err.stack&&t.err.sourceURL&&t.err.line!==undefined){f+="\n("+t.err.sourceURL+":"+t.err.line+")"}a.appendChild(m('<pre class="error">%e</pre>',f))}if(!t.pending){var l=a.getElementsByTagName("h2")[0];x(l,"click",function(){p.style.display="none"==p.style.display?"block":"none"});var p=m("<pre><code>%e</code></pre>",o.clean(t.fn.toString()));a.appendChild(p);p.style.display="none"}if(j[0])j[0].appendChild(a)})}var g=function k(t){var e=window.location.search;if(e){e=e.replace(/[?&]grep=[^&\s]*/g,"").replace(/^&/,"?")}return window.location.pathname+(e?e+"&":"?")+"grep="+encodeURIComponent(t)};d.prototype.suiteURL=function(t){return g(t.fullTitle())};d.prototype.testURL=function(t){return g(t.fullTitle())};function v(t){document.body.appendChild(m('<div id="mocha-error">%s</div>',t))}function m(t){var e=arguments,n=document.createElement("div"),r=1;n.innerHTML=t.replace(/%([se])/g,function(t,n){switch(n){case"s":return String(e[r++]);case"e":return a(e[r++])}});return n.firstChild}function y(t){var e=document.getElementsByClassName("suite");for(var n=0;n<e.length;n++){var r="e[n].getElementsByClassName(t);if(0==r.length)e[n].className+="" hidden"}}function="" w(){var="" t="document.getElementsByClassName("suite" hidden");for(var="" e="0;e<t.length;++e){t[e].className=t[e].className.replace("suite" hidden","suite")}}function="" b(t,e){if(t.textcontent){t.textcontent="e}else{t.innerText=e}}function" x(t,e,n){if(t.addeventlistener){t.addeventlistener(e,n,false)}else{t.attachevent("on"+e,n)}}});t.register("reporters="" index.js",function(t,e,n){e.base="n("./base");e.Dot=n("./dot");e.Doc=n("./doc");e.TAP=n("./tap");e.JSON=n("./json");e.HTML=n("./html");e.List=n("./list");e.Min=n("./min");e.Spec=n("./spec");e.Nyan=n("./nyan");e.XUnit=n("./xunit");e.Markdown=n("./markdown");e.Progress=n("./progress");e.Landing=n("./landing");e.JSONCov=n("./json-cov");e.HTMLCov=n("./html-cov");e.JSONStream=n("./json-stream")});t.register("reporters/json-cov.js",function(t,n,r){var" i="r("./base");n=t.exports=o;function" o(t,n){var="" o="[],u=[],l=[];t.on("test" end",function(t){o.push(t)});t.on("pass",function(t){l.push(t)});t.on("fail",function(t){u.push(t)});t.on("end",function(){var="" s(t){var="" n="" in="" t){var="" t.filename.localecompare(e.filename)});if(e.sloc="">0){e.coverage=e.hits/e.sloc*100}return e}function u(t,e){var n={filename:t,coverage:0,hits:0,misses:0,sloc:0,source:{}};e.source.forEach(function(t,r){r++;if(e[r]===0){n.misses++;n.sloc++}else if(e[r]!==undefined){n.hits++;n.sloc++}n.source[r]={source:t,coverage:e[r]===undefined?"":e[r]}});n.coverage=n.hits/n.sloc*100;return n}function f(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}});t.register("reporters/json-stream.js",function(t,e,n){var r=n("./base"),i=r.color;e=t.exports=o;function o(t){r.call(this,t);var e=this,n=this.stats,i=t.total;t.on("start",function(){console.log(JSON.stringify(["start",{total:i}]))});t.on("pass",function(t){console.log(JSON.stringify(["pass",s(t)]))});t.on("fail",function(t,e){t=s(t);t.err=e.message;console.log(JSON.stringify(["fail",t]))});t.on("end",function(){a.stdout.write(JSON.stringify(["end",e.stats]))})}function s(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}});t.register("reporters/json.js",function(t,e,n){var r=n("./base"),i=r.cursor,o=r.color;e=t.exports=s;function s(t){var e=this;r.call(this,t);var n=[],i=[],o=[],s=[];t.on("test end",function(t){n.push(t)});t.on("pass",function(t){s.push(t)});t.on("fail",function(t){o.push(t)});t.on("pending",function(t){i.push(t)});t.on("end",function(){var r={stats:e.stats,tests:n.map(u),pending:i.map(u),failures:o.map(u),passes:s.map(u)};t.testResults=r;a.stdout.write(JSON.stringify(r,null,2))})}function u(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration,err:f(t.err||{})}}function f(t){var e={};Object.getOwnPropertyNames(t).forEach(function(n){e[n]=t[n]},t);return e}});t.register("reporters/landing.js",function(t,e,n){var r=n("./base"),i=r.cursor,o=r.color;e=t.exports=s;r.colors.plane=0;r.colors["plane crash"]=31;r.colors.runway=90;
function s(t){r.call(this,t);var e=this,n=this.stats,s=r.window.width*.75|0,u=t.total,f=a.stdout,l=o("plane","âœˆ"),c=-1,p=0;function h(){var t=Array(s).join("-");return"  "+o("runway",t)}t.on("start",function(){f.write("\n\n\n  ");i.hide()});t.on("test end",function(t){var e=-1==c?s*++p/u|0:c;if("failed"==t.state){l=o("plane crash","âœˆ");c=e}f.write("["+(s+1)+"D[2A");f.write(h());f.write("\n  ");f.write(o("runway",Array(e).join("â‹…")));f.write(l);f.write(o("runway",Array(s-e).join("â‹…")+"\n"));f.write(h());f.write("[0m")});t.on("end",function(){i.show();console.log();e.epilogue()})}function u(){}u.prototype=r.prototype;s.prototype=new u;s.prototype.constructor=s});t.register("reporters/list.js",function(t,e,n){var r=n("./base"),i=r.cursor,o=r.color;e=t.exports=s;function s(t){r.call(this,t);var e=this,n=this.stats,s=0;t.on("start",function(){console.log()});t.on("test",function(t){a.stdout.write(o("pass","    "+t.fullTitle()+": "))});t.on("pending",function(t){var e=o("checkmark","  -")+o("pending"," %s");console.log(e,t.fullTitle())});t.on("pass",function(t){var e=o("checkmark","  "+r.symbols.dot)+o("pass"," %s: ")+o(t.speed,"%dms");i.CR();console.log(e,t.fullTitle(),t.duration)});t.on("fail",function(t,e){i.CR();console.log(o("fail","  %d) %s"),++s,t.fullTitle())});t.on("end",e.epilogue.bind(e))}function u(){}u.prototype=r.prototype;s.prototype=new u;s.prototype.constructor=s});t.register("reporters/markdown.js",function(t,e,n){var r=n("./base"),i=n("../utils");var o="$";e=t.exports=s;function s(t){r.call(this,t);var e=this,n=this.stats,s=0,u="";function f(t){return Array(s).join("#")+" "+t}function l(){return Array(s).join("  ")}function c(t,e){var n=e,r=o+t.title;e=e[r]=e[r]||{suite:t};t.suites.forEach(function(t){c(t,e)});return n}function p(t,e){++e;var n="";var r;for(var s in t){if("suite"==s)continue;if(s!==o){r=" - ["+s.substring(1)+"]";r+="(#"+i.slug(t[s].suite.fullTitle())+")\n";n+=Array(e).join("  ")+r}n+=p(t[s],e)}return n}function h(t){var e=c(t,{});return p(e,0)}h(t.suite);t.on("suite",function(t){++s;var e=i.slug(t.fullTitle());u+='<a name="'+e+'"></a>'+"\n";u+=f(t.title)+"\n"});t.on("suite end",function(t){--s});t.on("pass",function(t){var e=i.clean(t.fn.toString());u+=t.title+".\n";u+="\n```js\n";u+=e+"\n";u+="```\n\n"});t.on("end",function(){a.stdout.write("# TOC\n");a.stdout.write(h(t.suite));a.stdout.write(u)})}});t.register("reporters/min.js",function(t,e,n){var r=n("./base");e=t.exports=i;function i(t){r.call(this,t);t.on("start",function(){a.stdout.write("[2J");a.stdout.write("[1;3H")});t.on("end",this.epilogue.bind(this))}function o(){}o.prototype=r.prototype;i.prototype=new o;i.prototype.constructor=i});t.register("reporters/nyan.js",function(t,e,n){var r=n("./base");e=t.exports=i;function i(t){r.call(this,t);var e=this,n=this.stats,i=r.window.width*.75|0,s=this.rainbowColors=e.generateColors(),a=this.colorIndex=0,u=this.numberOfLines=4,f=this.trajectories=[[],[],[],[]],l=this.nyanCatWidth=11,c=this.trajectoryWidthMax=i-l,p=this.scoreboardWidth=5,h=this.tick=0,d=0;t.on("start",function(){r.cursor.hide();e.draw()});t.on("pending",function(t){e.draw()});t.on("pass",function(t){e.draw()});t.on("fail",function(t,n){e.draw()});t.on("end",function(){r.cursor.show();for(var t=0;t<e.numberoflines;t++)o("\n");e.epilogue()})}i.prototype.draw=function(){this.appendrainbow();this.drawscoreboard();this.drawrainbow();this.drawnyancat();this.tick=!this.tick};i.prototype.drawscoreboard=function(){var t="this.stats;function" e(t,e){o("="" ");o(r.color(t,e));o("\n")}e("green",t.passes);e("fail",t.failures);e("pending",t.pending);o("\n");this.cursorup(this.numberoflines)};i.prototype.appendrainbow="function(){var" e="this.rainbowify(t);for(var" n="0;n<this.numberOfLines;n++){var" r="this.trajectories[n];if(r.length">=this.trajectoryWidthMax)r.shift();r.push(e)}};i.prototype.drawRainbow=function(){var t=this;this.trajectories.forEach(function(e,n){o("["+t.scoreboardWidth+"C");o(e.join(""));o("\n")});this.cursorUp(this.numberOfLines)};i.prototype.drawNyanCat=function(){var t=this;var e=this.scoreboardWidth+this.trajectories[0].length;var n="["+e+"C";var r="";o(n);o("_,------,");o("\n");o(n);r=t.tick?"  ":"   ";o("_|"+r+"/\\_/\\ ");o("\n");o(n);r=t.tick?"_":"__";var i=t.tick?"~":"^";var s;o(i+"|"+r+this.face()+" ");o("\n");o(n);r=t.tick?" ":"  ";o(r+'""  "" ');o("\n");this.cursorUp(this.numberOfLines)};i.prototype.face=function(){var t=this.stats;if(t.failures){return"( x .x)"}else if(t.pending){return"( o .o)"}else if(t.passes){return"( ^ .^)"}else{return"( - .-)"}};i.prototype.cursorUp=function(t){o("["+t+"A")};i.prototype.cursorDown=function(t){o("["+t+"B")};i.prototype.generateColors=function(){var t=[];for(var e=0;e<6*7;e++){var n="Math.floor(Math.PI/3);var" r="e*(1/6);var" i="Math.floor(3*Math.sin(r)+3);var" o="Math.floor(3*Math.sin(r+2*n)+3);var" s="Math.floor(3*Math.sin(r+4*n)+3);t.push(36*i+6*o+s+16)}return" t};i.prototype.rainbowify="function(t){if(!r.useColors)return" t;var="" e="this.rainbowColors[this.colorIndex%this.rainbowColors.length];this.colorIndex+=1;return"[38;5;"+e+"m"+t+"[0m"};function" o(t){a.stdout.write(t)}function="" s(){}s.prototype="r.prototype;i.prototype=new" s;i.prototype.constructor="i});t.register("reporters/progress.js",function(t,e,n){var" s(t,e){r.call(this,t);var="" end",function(){l++;var="" t="f-l,n=l/f,r=u*n|0,s=u-r;if(p===r&&!e.verbose){return}p=r;i.CR();a.stdout.write("[J");a.stdout.write(o("progress","" "+e.open));a.stdout.write(array(r).join(e.complete));a.stdout.write(array(s).join(e.incomplete));a.stdout.write(o("progress",e.close));if(e.verbose){a.stdout.write(o("progress","="" "+l+"="" of="" "+f))}});t.on("end",function(){i.show();console.log();n.epilogue()})}function="" u(){}u.prototype="r.prototype;s.prototype=new" u;s.prototype.constructor="s});t.register("reporters/spec.js",function(t,e,n){var" s(t){r.call(this,t);var="" u(){return="" array(s).join("="" ")}t.on("start",function(){console.log()});t.on("suite",function(t){++s;console.log(o("suite","%s%s"),u(),t.title)});t.on("suite="" end",function(t){--s;if(1="=s)console.log()});t.on("pending",function(t){var" -="" %s");console.log(e,t.title)});t.on("pass",function(t){if("fast"="=t.speed){var" "+r.symbols.ok)+o("pass","="" %s");i.cr();console.log(e,t.title)}else{var="" %s")+o(t.speed,"="" (%dms)");i.cr();console.log(e,t.title,t.duration)}});t.on("fail",function(t,e){i.cr();console.log(u()+o("fail","="" %d)="" %s"),++a,t.title)});t.on("end",e.epilogue.bind(e))}function="" a(){}a.prototype="r.prototype;s.prototype=new" a;s.prototype.constructor="s});t.register("reporters/tap.js",function(t,e,n){var" end",function(){++i});t.on("pending",function(t){console.log("ok="" %d="" %s="" #="" skip="" -",i,a(t))});t.on("pass",function(t){o++;console.log("ok="" %s",i,a(t))});t.on("fail",function(t,e){s++;console.log("not="" ok="" %s",i,a(t));if(e.stack)console.log(e.stack.replace(="" ^="" gm,"="" "))});t.on("end",function(){console.log("#="" tests="" "+(o+s));console.log("#="" pass="" "+o);console.log("#="" fail="" "+s)})}function="" a(t){return="" t.fulltitle().replace(="" g,"")}});t.register("reporters="" xunit.js",function(t,n,r){var="" u="e.Date,f=e.setTimeout,l=e.setInterval,c=e.clearTimeout,p=e.clearInterval;n=t.exports=h;function" h(t,e){i.call(this,t);var="" new="" error("file="" output="" not="" supported="" in="" browser")}o.filestream="s.createWriteStream(e.reporterOptions.output)}t.on("pending",function(t){r.push(t)});t.on("pass",function(t){r.push(t)});t.on("fail",function(t){r.push(t)});t.on("end",function(){o.write(g("testsuite",{name:"Mocha" tests",tests:n.tests,failures:n.failures,errors:n.failures,skipped:n.tests-n.failures-n.passes,timestamp:(new="" u).toutcstring(),time:n.duration="" 1e3||0},false));r.foreach(function(t){o.test(t)});o.write("<="" testsuite="">")})}h.prototype.done=function(t,e){if(this.fileStream){this.fileStream.end(function(){e(t)})}else{e(t)}};function d(){}d.prototype=i.prototype;h.prototype=new d;h.prototype.constructor=h;h.prototype.write=function(t){if(this.fileStream){this.fileStream.write(t+"\n")}else{console.log(t)}};h.prototype.test=function(t,e){var n={classname:t.parent.fullTitle(),name:t.title,time:t.duration/1e3||0};if("failed"==t.state){var r=t.err;this.write(g("testcase",n,false,g("failure",{},false,v(a(r.message)+"\n"+r.stack))))}else if(t.pending){this.write(g("testcase",n,false,g("skipped",{},true)))}else{this.write(g("testcase",n,true))}};function g(t,e,n,r){var i=n?"/>":">",o=[],s;for(var u in e){o.push(u+'="'+a(e[u])+'"')}s="<"+t+(o.length?" "+o.join("="" "):"")+i;if(r)s+="r+"</"+t+i;return" s}function="" v(t){return"<![cdata["+a(t)+"]]="">"}});t.register("runnable.js",function(t,n,r){var i=r("browser/events").EventEmitter,o=r("browser/debug")("mocha:runnable"),s=r("./pending"),a=r("./ms"),u=r("./utils");var f=e.Date,l=e.setTimeout,c=e.setInterval,p=e.clearTimeout,h=e.clearInterval;var d=Object.prototype.toString;t.exports=g;function g(t,e){this.title=t;this.fn=e;this.async=e&&e.length;this.sync=!this.async;this._timeout=2e3;this._slow=75;this._enableTimeouts=true;this.timedOut=false;this._trace=new Error("done() called multiple times")}function v(){}v.prototype=i.prototype;g.prototype=new v;g.prototype.constructor=g;g.prototype.timeout=function(t){if(0==arguments.length)return this._timeout;if(t===0)this._enableTimeouts=false;if("string"==typeof t)t=a(t);o("timeout %d",t);this._timeout=t;if(this.timer)this.resetTimeout();return this};g.prototype.slow=function(t){if(0===arguments.length)return this._slow;if("string"==typeof t)t=a(t);o("timeout %d",t);this._slow=t;return this};g.prototype.enableTimeouts=function(t){if(arguments.length===0)return this._enableTimeouts;o("enableTimeouts %s",t);this._enableTimeouts=t;return this};g.prototype.skip=function(){throw new s};g.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title};g.prototype.clearTimeout=function(){p(this.timer)};g.prototype.inspect=function(){return JSON.stringify(this,function(t,e){if("_"==t[0])return;if("parent"==t)return"#<suite>";if("ctx"==t)return"#<context>";return e},2)};g.prototype.resetTimeout=function(){var t=this;var e=this.timeout()||1e9;if(!this._enableTimeouts)return;this.clearTimeout();this.timer=l(function(){if(!t._enableTimeouts)return;t.callback(new Error("timeout of "+e+"ms exceeded. Ensure the done() callback is being called in this test."));t.timedOut=true},e)};g.prototype.globals=function(t){var e=this;this._allowedGlobals=t};g.prototype.run=function(t){var e=this,n=new f,r=this.ctx,i,o;if(r&&r.runnable)r.runnable(this);function s(t){if(o)return;o=true;e.emit("error",t||new Error("done() called multiple times; stacktrace may be inaccurate"))}function a(r){var o=e.timeout();if(e.timedOut)return;if(i)return s(r||e._trace);if(e.state)return;e.clearTimeout();e.duration=new f-n;i=true;if(!r&&e.duration>o&&e._enableTimeouts)r=new Error("timeout of "+o+"ms exceeded. Ensure the done() callback is being called in this test.");t(r)}this.callback=a;if(this.async){this.resetTimeout();try{this.fn.call(r,function(t){if(t instanceof Error||d.call(t)==="[object Error]")return a(t);if(null!=t){if(Object.prototype.toString.call(t)==="[object Object]"){return a(new Error("done() invoked with non-Error: "+JSON.stringify(t)))}else{return a(new Error("done() invoked with non-Error: "+t))}}a()})}catch(l){a(u.getError(l))}return}if(this.asyncOnly){return a(new Error("--async-only option in use without declaring `done()`"))}try{if(this.pending){a()}else{c(this.fn)}}catch(l){a(u.getError(l))}function c(t){var n=t.call(r);if(n&&typeof n.then==="function"){e.resetTimeout();n.then(function(){a()},function(t){a(t||new Error("Promise rejected with no or falsy reason"))})}else{a()}}}});t.register("runner.js",function(t,n,r){var i=r("browser/events").EventEmitter,o=r("browser/debug")("mocha:runner"),s=r("./pending"),u=r("./test"),f=r("./utils"),l=f.filter,c=f.keys,p=f.type,h=f.stringify,d=f.stackTraceFilter();var g=["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date","setImmediate","clearImmediate"];t.exports=v;function v(t,e){var n=this;this._globals=[];this._abort=false;this._delay=e;this.suite=t;this.total=t.total();this.failures=0;this.on("test end",function(t){n.checkGlobals(t)});this.on("hook end",function(t){n.checkGlobals(t)});this.grep(/.*/);this.globals(this.globalProps().concat(w()))}v.immediately=e.setImmediate||a.nextTick;function m(){}m.prototype=i.prototype;v.prototype=new m;v.prototype.constructor=v;v.prototype.grep=function(t,e){o("grep %s",t);this._grep=t;this._invert=e;this.total=this.grepTotal(this.suite);return this};v.prototype.grepTotal=function(t){var e=this;var n=0;t.eachTest(function(t){var r=e._grep.test(t.fullTitle());if(e._invert)r=!r;if(r)n++});return n};v.prototype.globalProps=function(){var t=f.keys(e);for(var n=0;n<g.length;++n){if(~f.indexof(t,g[n]))continue;t.push(g[n])}return t};v.prototype.globals="function(t){if(0==arguments.length)return" this._globals;o("globals="" %j",t);this._globals="this._globals.concat(t);return" this};v.prototype.checkglobals="function(t){if(this.ignoreLeaks)return;var" e="this._globals;var" n="this.globalProps();var" r;if(t){e="e.concat(t._allowedGlobals||[])}if(this.prevGlobalsLength==n.length)return;this.prevGlobalsLength=n.length;r=y(e,n);this._globals=this._globals.concat(r);if(r.length">1){this.fail(t,new Error("global leaks detected: "+r.join(", ")+""))}else if(r.length){this.fail(t,new Error("global leak detected: "+r[0]))}};v.prototype.fail=function(t,e){++this.failures;t.state="failed";if(!(e instanceof Error)){e=new Error("the "+p(e)+" "+h(e)+" was thrown, throw an Error :)")}e.stack=this.fullStackTrace||!e.stack?e.stack:d(e.stack);this.emit("fail",t,e)};v.prototype.failHook=function(t,e){this.fail(t,e);if(this.suite.bail()){this.emit("end")}};v.prototype.hook=function(t,e){var n=this.suite,r=n["_"+t],i=this,o;function a(t){var o=r[t];if(!o)return e();i.currentRunnable=o;o.ctx.currentTest=i.test;i.emit("hook",o);o.on("error",function(t){i.failHook(o,t)});o.run(function(r){o.removeAllListeners("error");var u=o.error();if(u)i.fail(i.test,u);if(r){if(r instanceof s){n.pending=true}else{i.failHook(o,r);return e(r)}}i.emit("hook end",o);delete o.ctx.currentTest;a(++t)})}v.immediately(function(){a(0)})};v.prototype.hooks=function(t,e,n){var r=this,i=this.suite;function o(s){r.suite=s;if(!s){r.suite=i;return n()}r.hook(t,function(t){if(t){var s=r.suite;r.suite=i;return n(t,s)}o(e.pop())})}o(e.pop())};v.prototype.hookUp=function(t,e){var n=[this.suite].concat(this.parents()).reverse();this.hooks(t,n,e)};v.prototype.hookDown=function(t,e){var n=[this.suite].concat(this.parents());this.hooks(t,n,e)};v.prototype.parents=function(){var t=this.suite,e=[];while(t=t.parent)e.push(t);return e};v.prototype.runTest=function(t){var e=this.test,n=this;if(this.asyncOnly)e.asyncOnly=true;try{e.on("error",function(t){n.fail(e,t)});e.run(t)}catch(r){t(r)}};v.prototype.runTests=function(t,e){var n=this,r=t.tests.slice(),i;function o(t,r,i){var s=n.suite;n.suite=i?r.parent:r;if(n.suite){n.hookUp("afterEach",function(t,i){n.suite=s;if(t)return o(t,i,true);e(r)})}else{n.suite=s;e(r)}}function a(u,f){if(n.failures&&t._bail)return e();if(n._abort)return e();if(u)return o(u,f,true);i=r.shift();if(!i)return e();var l=n._grep.test(i.fullTitle());if(n._invert)l=!l;if(!l)return a();if(i.pending){n.emit("pending",i);n.emit("test end",i);return a()}n.emit("test",n.test=i);n.hookDown("beforeEach",function(e,r){if(t.pending){n.emit("pending",i);n.emit("test end",i);return a()}if(e)return o(e,r,false);n.currentRunnable=n.test;n.runTest(function(t){i=n.test;if(t){if(t instanceof s){n.emit("pending",i)}else{n.fail(i,t)}n.emit("test end",i);if(t instanceof s){return a()}return n.hookUp("afterEach",a)}i.state="passed";n.emit("pass",i);n.emit("test end",i);n.hookUp("afterEach",a)})})}this.next=a;a()};v.prototype.runSuite=function(t,e){var n=this.grepTotal(t),r=this,i=0;o("run suite %s",t.fullTitle());if(!n)return e();this.emit("suite",this.suite=t);function s(e){if(e){if(e==t){return a()}else{return a(e)}}if(r._abort)return a();var n=t.suites[i++];if(!n)return a();r.runSuite(n,s)}function a(n){r.suite=t;r.hook("afterAll",function(){r.emit("suite end",t);e(n)})}this.hook("beforeAll",function(e){if(e)return a();r.runTests(t,s)})};v.prototype.uncaught=function(t){if(t){o("uncaught exception %s",t!==function(){return this}.call(t)?t:t.message||t)}else{o("uncaught undefined exception");t=f.undefinedError()}t.uncaught=true;var e=this.currentRunnable;if(!e)return;e.clearTimeout();if(e.state)return;this.fail(e,t);if("test"==e.type){this.emit("test end",e);this.hookUp("afterEach",this.next);return}this.emit("end")};v.prototype.run=function(t){var e=this,n=this.suite;t=t||function(){};function r(t){e.uncaught(t)}function i(){e.emit("start");e.runSuite(n,function(){o("finished running");e.emit("end")})}o("start");this.on("end",function(){o("end");a.removeListener("uncaughtException",r);t(e.failures)});a.on("uncaughtException",r);if(this._delay){this.emit("waiting",n);n.once("run",i)}else{i()}return this};v.prototype.abort=function(){o("aborting");this._abort=true};function y(t,n){return l(n,function(n){if(/^d+/.test(n))return false;if(e.navigator&&/^getInterface/.test(n))return false;if(e.navigator&&/^\d+/.test(n))return false;if(/^mocha-/.test(n))return false;var r=l(t,function(t){if(~t.indexOf("*"))return 0==n.indexOf(t.split("*")[0]);return n==t});return r.length==0&&(!e.navigator||"onerror"!==n)})}function w(){if(typeof a==="object"&&typeof a.version==="string"){var t=a.version.split(".").reduce(function(t,e){return t<<8|e});if(t<2315){return["errno"]}}return[]}});t.register("suite.js",function(t,e,n){var r="n("browser/events").EventEmitter,i=n("browser/debug")("mocha:suite"),o=n("./ms"),s=n("./utils"),a=n("./hook");e=t.exports=u;e.create=function(t,e){var" n="new" u(e,t.ctx);n.parent="t;if(t.pending)n.pending=true;e=n.fullTitle();t.addSuite(n);return" n};function="" u(t,e){this.title="t;var" n;this.suites="[];this.tests=[];this.pending=false;this._beforeEach=[];this._beforeAll=[];this._afterEach=[];this._afterAll=[];this.root=!t;this._timeout=2e3;this._enableTimeouts=true;this._slow=75;this._bail=false;this.delayed=false}function" f(){}f.prototype="r.prototype;u.prototype=new" f;u.prototype.constructor="u;u.prototype.clone=function(){var" t="new" u(this.title);i("clone");t.ctx="this.ctx;t.timeout(this.timeout());t.enableTimeouts(this.enableTimeouts());t.slow(this.slow());t.bail(this.bail());return" t};u.prototype.timeout="function(t){if(0==arguments.length)return" this._timeout;if(t.tostring()="=="0")this._enableTimeouts=false;if("string"==typeof" t)t="o(t);i("timeout" %d",t);this._timeout="parseInt(t,10);return" this};u.prototype.enabletimeouts="function(t){if(arguments.length===0)return" this._enabletimeouts;i("enabletimeouts="" %s",t);this._enabletimeouts="t;return" this};u.prototype.slow="function(t){if(0===arguments.length)return" this._slow;if("string"="=typeof" %d",t);this._slow="t;return" this};u.prototype.bail="function(t){if(0==arguments.length)return" this._bail;i("bail="" %s",t);this._bail="t;return" this};u.prototype.beforeall="function(t,e){if(this.pending)return" this;if("function"="==typeof" t){e="t;t=e.name}t='"before" all"="" hook'+(t?":="" "+t:"");var="" a(t,e);n.parent="this;n.timeout(this.timeout());n.enableTimeouts(this.enableTimeouts());n.slow(this.slow());n.ctx=this.ctx;this._beforeAll.push(n);this.emit("beforeAll",n);return" this};u.prototype.afterall="function(t,e){if(this.pending)return" this};u.prototype.beforeeach="function(t,e){if(this.pending)return" each"="" this};u.prototype.aftereach="function(t,e){if(this.pending)return" this};u.prototype.addsuite="function(t){t.parent=this;t.timeout(this.timeout());t.enableTimeouts(this.enableTimeouts());t.slow(this.slow());t.bail(this.bail());this.suites.push(t);this.emit("suite",t);return" this};u.prototype.addtest="function(t){t.parent=this;t.timeout(this.timeout());t.enableTimeouts(this.enableTimeouts());t.slow(this.slow());t.ctx=this.ctx;this.tests.push(t);this.emit("test",t);return" this};u.prototype.fulltitle="function(){if(this.parent){var" t+"="" "+this.title}return="" this.title};u.prototype.total="function(){return" s.reduce(this.suites,function(t,e){return="" t+e.total()},0)+this.tests.length};u.prototype.eachtest="function(t){s.forEach(this.tests,t);s.forEach(this.suites,function(e){e.eachTest(t)});return" this};u.prototype.run="function" l(){if(this.root){this.emit("run")}}});t.register("test.js",function(t,e,n){var="" i(t,e){r.call(this,t,e);this.pending="!e;this.type="test"}function" o(){}o.prototype="r.prototype;i.prototype=new" o;i.prototype.constructor="i});t.register("utils.js",function(t,e,n){var" c="["node_modules",".git"];e.escape=function(t){return" string(t).replace(="" &="" g,"&amp;").replace(="" "="" g,"&quot;").replace(="" <="" g,"&lt;").replace(="">/g,"&gt;")};e.forEach=function(t,e,n){for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r)};e.map=function(t,e,n){var r="[];for(var" i="0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return" r};e.indexof="function(t,e,n){for(var" r}return-1};e.reduce="function(t,e,n){var" r};e.filter="function(t,e){var" n="[];for(var" o="t[r];if(e(o,r,t))n.push(o)}return" n};e.keys="Object.keys||function(t){var" e="[],n=Object.prototype.hasOwnProperty;for(var" in="" t){if(n.call(t,r)){e.push(r)}}return="" e};e.watch="function(t,e){var" %s",t);r.watchfile(t,n,function(n,r){if(r.mtime<n.mtime)e(t)})})};var="" p="Array.isArray||function(t){return"[object" array]"="={}.toString.call(t)};if(typeof" buffer!="="undefined"&&Buffer.prototype){Buffer.prototype.toJSON=Buffer.prototype.toJSON||function(){return" array.prototype.slice.call(this,0)}}function="" h(t){return!~c.indexof(t)}e.files="function(t,n,i){i=i||[];n=n||["js"];var" regexp("\\.("+n.join("|")+")$");r.readdirsync(t).filter(h).foreach(function(s){s="f(t,s);if(r.statSync(s).isDirectory()){e.files(s,n,i)}else" if(s.match(o)){i.push(s)}});return="" i};e.slug="function(t){return" t.tolowercase().replace(="" +="" g,"-").replace(="" [^-\w]="" g,"")};e.clean="function(t){t=t.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function" *\(.*\)\s*{|\(.*\)="" *=""> *{?/,"").replace(/\s+\}$/,"");var n=t.match(/^\n?( *)/)[1].length,r=t.match(/^\n?(\t*)/)[1].length,i=new RegExp("^\n?"+(r?"	":" ")+"{"+(r?r:n)+"}","gm");t=t.replace(i,"");return e.trim(t)};e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")};e.parseQuery=function(t){return e.reduce(t.replace("?","").split("&"),function(t,e){var n=e.indexOf("="),r=e.slice(0,n),i=e.slice(++n);t[r]=decodeURIComponent(i);return t},{})};function d(t){return t.replace(//g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew[ \t]+(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}e.highlightTags=function(t){var e=document.getElementById("mocha").getElementsByTagName(t);for(var n=0,r=e.length;n</i;r++)e.call(n,t[r],r)};e.map=function(t,e,n){var></8|e});if(t<2315){return["errno"]}}return[]}});t.register("suite.js",function(t,e,n){var></g.length;++n){if(~f.indexof(t,g[n]))continue;t.push(g[n])}return></context></suite></"+t+(o.length?"></6*7;e++){var></e.numberoflines;t++)o("\n");e.epilogue()})}i.prototype.draw=function(){this.appendrainbow();this.drawscoreboard();this.drawrainbow();this.drawnyancat();this.tick=!this.tick};i.prototype.drawscoreboard=function(){var></e.length;n++){var></lf></cr></tab></e)return;if(t<e*1.5)return></t.length;r++){n=t[r];e.push([n.added?1:n.removed?-1:0,n.value])}return></f.oldlength;l++){if(u[f.start-1+l]!==f.oldlines[l]){return></i&&a+1<o&&this.equals(e[s+1],n[a+1])){s++;a++;this.pushcomponent(t.components,e[s],undefined,undefined)}t.newpos=s;return></=o;u++){for(var></i.length;o++){var>